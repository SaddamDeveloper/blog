!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).LazyLoad=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}).apply(this,arguments)}function a(t){return n({},q,t)}function o(t,n){var e,a="LazyLoad::Initialized",o=new t(n);try{e=new CustomEvent(a,{detail:{instance:o}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(a,!1,!1,{instance:o})}window.dispatchEvent(e)}function v(t,n){return t.getAttribute(K+n)}function i(t,n,e){var a=K+n;null!==e?t.setAttribute(a,e):t.removeAttribute(a)}function p(t,n){return i(t,Q,n)}function c(t,n){return i(t,W,n)}function u(t){return v(t,W)}function b(t,n,e,a){t&&(void 0===a?void 0===e?t(n):t(n,e):t(n,e,a))}function h(t,n){V?t.classList.add(n):t.className+=(t.className?" ":"")+n}function r(t,n){V?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function m(t){return t.llTempImage}function E(t){t&&(t.loadingCount+=1)}function l(t){for(var n,e=[],a=0;n=t.children[a];a+=1)"SOURCE"===n.tagName&&e.push(n);return e}function e(t,n,e){e&&t.setAttribute(n,e)}function s(t,n){e(t,"sizes",v(t,n.data_sizes)),e(t,"srcset",v(t,n.data_srcset)),e(t,"src",v(t,n.data_src))}function d(t,n,e){var a=X[t.tagName];a&&(a(t,n),E(e),h(t,n.class_loading),p(t,B),b(n.callback_loading,t,e),b(n.callback_reveal,t,e))}function f(t,n){!n||n.toLoadCount||n.loadingCount||b(t.callback_finish,n)}function _(t,n,e){t.addEventListener(n,e)}function g(t,n,e){t.removeEventListener(n,e)}function y(t,n,e){g(t,Y,n),g(t,Z,n),g(t,tt,e)}function w(t,n,e){var a;delete t.llTempImage,(a=e)&&--a.loadingCount,r(t,n.class_loading)}function k(i,r,l){function s(t){var n,e,a;w(n=i,e=r,a=l),h(n,e.class_loaded),p(n,"loaded"),b(e.callback_loaded,n,a),f(e,a),y(c,s,o)}var t,n,e,c=m(i)||i,o=function t(n){var e,a,o;w(e=i,a=r,o=l),h(e,a.class_error),p(e,J),b(a.callback_error,e,o),f(a,o),y(c,s,t)};e=o,_(t=c,Y,n=s),_(t,Z,n),_(t,tt,e)}function I(t,n){n&&--n.toLoadCount}function L(t,n,e){var a,o,i,r,l,s,c,u,d,f,_,g;t.llTempImage=document.createElement("img"),k(t,n,e),i=e,r=v(a=t,(o=n).data_bg),l=v(a,o.data_bg_hidpi),(s=$&&l?l:r)&&(a.style.backgroundImage='url("'.concat(s,'")'),m(a).setAttribute("src",s),E(i),h(a,o.class_loading),p(a,B),b(o.callback_loading,a,i),b(o.callback_reveal,a,i)),d=e,f=v(c=t,(u=n).data_bg_multi),_=v(c,u.data_bg_multi_hidpi),(g=$&&_?_:f)&&(c.style.backgroundImage=g,h(c,u.class_applied),p(c,"applied"),b(u.callback_applied,c,d))}function C(t,n,e){var a,o,i,r;r=t,-1<nt.indexOf(r.tagName)?(k(a=t,o=n,i=e),d(a,o,i)):L(t,n,e),I(0,e),function(t,n){if(n){var e=n._observer;e&&n._settings.auto_unobserve&&e.unobserve(t)}}(t,e),f(n,e)}function A(t){var n=u(t);n&&(clearTimeout(n),c(t,null))}function O(t,n,e){var a,o,i,r,l,s=e._settings;b(s.callback_enter,t,n,e),s.load_delay?(a=t,i=e,r=(o=s).load_delay,(l=u(a))||(l=setTimeout(function(){C(a,o,i),A(a)},r),c(a,l))):C(t,s,e)}function N(t){return t.use_native&&at in HTMLImageElement.prototype}function x(t,o,i){t.forEach(function(t){var n,e,a;-1!==et.indexOf(t.tagName)&&(t.setAttribute(at,"lazy"),k(n=t,e=o,a=i),d(n,e,a),I(0,a),p(n,"native"),f(e,a))}),i.toLoadCount=0}function z(t,n){var e;t.disconnect(),e=t,n.forEach(function(t){e.observe(t),p(t,H)})}function M(r){var t;U&&!N(r._settings)&&(r._observer=new IntersectionObserver(function(t){t.forEach(function(t){return(i=t).isIntersecting||0<i.intersectionRatio?O(t.target,t,r):(n=t.target,e=t,o=(a=r)._settings,b(o.callback_exit,n,e,a),void(o.load_delay&&A(n)));var n,e,a,o,i})},{root:(t=r._settings).container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}))}function R(t){return Array.prototype.slice.call(t)}function T(t){return t.container.querySelectorAll(t.elements_selector)}function j(t){return!(null!==v(t,Q))||v(t,Q)===H}function F(t){return v(t,Q)===J}function G(t,n){return e=t||T(n),R(e).filter(j);var e}function P(t){var n,e=t._settings;(n=T(e),R(n).filter(F)).forEach(function(t){r(t,e.class_error),i(t,Q,null)}),t.update()}function t(t,n){var e;this._settings=a(t),this.loadingCount=0,M(this),e=this,D&&window.addEventListener("online",function(t){P(e)}),this.update(n)}var D="undefined"!=typeof window,S=D&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),U=D&&"IntersectionObserver"in window,V=D&&"classList"in document.createElement("p"),$=D&&1<window.devicePixelRatio,q={elements_selector:"img",container:S||D?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},H="observed",B="loading",J="error",K="data-",Q="ll-status",W="ll-timeout",X={IMG:function(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&l(e).forEach(function(t){s(t,n)});s(t,n)},IFRAME:function(t,n){e(t,"src",v(t,n.data_src))},VIDEO:function(t,n){l(t).forEach(function(t){e(t,"src",v(t,n.data_src))}),e(t,"poster",v(t,n.data_poster)),e(t,"src",v(t,n.data_src)),t.load()}},Y="load",Z="loadeddata",tt="error",nt=["IMG","IFRAME","VIDEO"],et=["IMG","IFRAME"],at="loading";return t.prototype={update:function(t){var n=this._settings,e=G(t,n);this.toLoadCount=e.length,!S&&U?N(n)?x(e,n,this):z(this._observer,e):this.loadAll(e)},destroy:function(){this._observer&&this._observer.disconnect(),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;G(t,e).forEach(function(t){C(t,e,n)})},load:function(t){C(t,this._settings,this)}},t.load=function(t,n){var e=a(n);C(t,e)},D&&function(t,n){if(n)if(n.length)for(var e,a=0;e=n[a];a+=1)o(t,e);else o(t,n)}(t,window.lazyLoadOptions),t});